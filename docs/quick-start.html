<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quick Start — ModelKit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#00f5ff",
              surface: "#151b24",
              background: "#0a0e14",
              border: "#30363d",
              "text-muted": "#6e7681",
              "text-secondary": "#8b949e",
              text: "#e6edf3",
            },
            fontFamily: {
              mono: ["JetBrains Mono", "ui-monospace", "monospace"],
            },
            borderRadius: { none: "0" },
          },
        },
      };
    </script>
    <style>
      body {
        font-family: "JetBrains Mono", ui-monospace, monospace;
        background-color: #0a0e14;
      }
      ::selection {
        background: rgba(0, 245, 255, 0.35);
        color: #fff;
      }
      ::-moz-selection {
        background: rgba(0, 245, 255, 0.35);
        color: #fff;
      }
      .grid-bg {
        background-image: linear-gradient(
            rgba(0, 245, 255, 0.02) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, rgba(0, 245, 255, 0.02) 1px, transparent 1px);
        background-size: 48px 48px;
      }
      .docs-sidebar {
        position: fixed;
        left: 0;
        top: 0;
        width: 14rem;
        height: 100vh;
        overflow-y: auto;
        border-right: 1px solid #30363d;
        background: rgba(21, 27, 36, 0.98);
      }
      .docs-main {
        margin-left: 14rem;
        min-height: 100vh;
      }
      .corner-tl {
        position: absolute;
        top: -1px;
        left: -1px;
        width: 10px;
        height: 10px;
        border-top: 2px solid #00f5ff;
        border-left: 2px solid #00f5ff;
      }
      .corner-br {
        position: absolute;
        bottom: -1px;
        right: -1px;
        width: 10px;
        height: 10px;
        border-bottom: 2px solid #00f5ff;
        border-right: 2px solid #00f5ff;
      }
      .code-wrap {
        position: relative;
        border: 1px solid #30363d;
      }
      .code-wrap .code-lang {
        position: absolute;
        top: 0;
        right: 0;
        padding: 6px 10px;
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: #6e7681;
        border-left: 1px solid #30363d;
        border-bottom: 1px solid #30363d;
      }
      .code-wrap pre {
        margin: 0;
        overflow-x: auto;
        scrollbar-width: none;
        -ms-overflow-style: none;
      }
      .code-wrap pre::-webkit-scrollbar {
        display: none;
      }
      .code-wrap pre code {
        padding: 1rem 1.25rem;
        font-size: 13px;
        line-height: 1.5;
      }
      .hljs {
        background: #0d1117 !important;
        padding: 1rem 1.25rem !important;
      }
      @media (max-width: 768px) {
        .docs-sidebar {
          position: relative;
          width: 100%;
          height: auto;
          border-right: 0;
          border-bottom: 1px solid #30363d;
        }
        .docs-main {
          margin-left: 0;
        }
      }
    </style>
  </head>
  <body class="min-h-screen text-text antialiased grid-bg">
    <aside class="docs-sidebar p-4">
      <a href="index.html" class="flex items-center gap-2 mb-4">
        <span class="w-1.5 h-1.5 bg-primary"></span>
        <span class="text-sm font-bold text-primary uppercase tracking-wide"
          >ModelKit</span
        >
      </a>
      <a
        href="https://github.com/benrobo/modelkit"
        target="_blank"
        rel="noopener noreferrer"
        class="text-xs text-text-muted hover:text-primary transition-colors block mb-6"
        >GitHub →</a
      >
      <nav class="flex flex-col gap-1 text-xs uppercase tracking-wider">
        <a
          href="index.html"
          class="text-text-muted hover:text-primary transition-colors py-1.5"
          >Home</a
        >
        <a href="quick-start.html" class="text-primary py-1.5">Quick start</a>
        <a
          href="studio.html"
          class="text-text-muted hover:text-primary transition-colors py-1.5"
          >Studio</a
        >
        <a
          href="api.html"
          class="text-text-muted hover:text-primary transition-colors py-1.5"
          >API</a
        >
      </nav>
    </aside>
    <main class="docs-main px-4 sm:px-6 lg:px-10 py-10 max-w-3xl">
      <h1 class="text-2xl font-bold text-primary uppercase tracking-wide mb-2">
        Quick Start
      </h1>
      <p class="text-text-secondary text-sm mb-4">
        Install the SDK, configure your backend (Hono or Express), and optionally
        generate types. ModelKit supplies the model ID your app uses with your
        existing AI SDK; your API keys and inference stay in your code.
      </p>
      <p class="text-text-muted text-xs mb-8">
        Not a managed inference service. Overrides are stored in Redis and
        editable via API or Studio so you can change which model a feature uses
        without redeploying.
      </p>

      <div class="space-y-8">
        <section>
          <h2
            class="text-xs font-bold text-primary uppercase tracking-widest mb-3"
          >
            1. Install
          </h2>
          <div class="code-wrap">
            <span class="code-lang">bash</span>
            <pre><code class="language-bash">npm install @benrobo/modelkit
# or: bun add @benrobo/modelkit</code></pre>
          </div>
        </section>
        <section>
          <h2
            class="text-xs font-bold text-primary uppercase tracking-widest mb-3"
          >
            2. Backend (Hono)
          </h2>
          <div class="code-wrap">
            <span class="code-lang">typescript</span>
            <pre><code class="language-typescript">import { Hono } from "hono";
import { createModelKit, createRedisAdapter } from "@benrobo/modelkit";
import { createModelKitHonoRouter } from "@benrobo/modelkit/hono";

// Persist overrides in Redis (defaults to localhost if REDIS_URL is unset)
const adapter = createRedisAdapter({
  url: process.env.REDIS_URL || "redis://localhost:6379",
});
const modelKit = createModelKit(adapter);

// getModel returns the effective model ID (string). Pass it to your AI SDK; override or fallback is resolved here.
const modelId = await modelKit.getModel("chatbot", "anthropic/claude-3.5-sonnet");

// Mount the ModelKit REST API and Studio under /api/modelkit
const app = new Hono();
app.route("/api/modelkit", createModelKitHonoRouter(modelKit));</code></pre>
          </div>
        </section>
        <section>
          <h2
            class="text-xs font-bold text-primary uppercase tracking-widest mb-3"
          >
            3. Backend (Express)
          </h2>
          <div class="code-wrap">
            <span class="code-lang">typescript</span>
            <pre><code class="language-typescript">import express from "express";
import { createModelKit, createRedisAdapter } from "@benrobo/modelkit";
import { createModelKitExpressRouter } from "@benrobo/modelkit/express";

const app = express();
app.use(express.json()); // Required for POST body parsing

// Persist overrides in Redis; createModelKit wraps the adapter with caching
const adapter = createRedisAdapter({ url: process.env.REDIS_URL });
const modelKit = createModelKit(adapter);

// Mount the ModelKit REST API and Studio at /api/modelkit
app.use("/api/modelkit", createModelKitExpressRouter(modelKit));
app.listen(3000);</code></pre>
          </div>
        </section>
        <section>
          <h2
            class="text-xs font-bold text-primary uppercase tracking-widest mb-3"
          >
            4. Type safety
          </h2>
          <p class="text-sm text-text-secondary mb-2">
            Generate types from your running API:
          </p>
          <div class="code-wrap mb-3">
            <span class="code-lang">bash</span>
            <pre><code class="language-bash">npx modelkit-generate --api-url http://localhost:3000/api/modelkit</code></pre>
          </div>
          <div class="code-wrap">
            <span class="code-lang">typescript</span>
            <pre><code class="language-typescript">import type { FeatureId } from "./modelkit.generated";

const adapter = createRedisAdapter&lt;FeatureId&gt;({ url: "..." });
const modelKit = createModelKit(adapter);

await modelKit.getModel("chatbot", "anthropic/claude-3.5-sonnet"); // ✅
await modelKit.getModel("invalid", "gpt-4"); // ❌ compile error</code></pre>
          </div>
          <p class="text-sm text-text-muted mt-3">
            For Studio, see
            <a href="studio.html" class="text-primary hover:underline">Studio</a
            >.
          </p>
        </section>
        <section>
          <h2
            class="text-xs font-bold text-primary uppercase tracking-widest mb-3"
          >
            5. Examples — use the model ID with your SDK
          </h2>
          <p class="text-sm text-text-secondary mb-4">
            <code class="bg-background/80 px-1 border border-border text-xs">getModel</code> returns the effective model ID (string). Use <code class="bg-background/80 px-1 border border-border text-xs">getConfig(featureId)</code> when you need the full override (temperature, maxTokens, etc.) instead of just the ID. Pass the ID to your SDK with your own API key; inference remains in your app.
          </p>
          <h3 class="text-xs font-bold text-primary uppercase tracking-wider mb-2 mt-6">
            Vercel AI SDK + OpenRouter
          </h3>
          <div class="code-wrap mb-6">
            <span class="code-lang">typescript</span>
            <pre><code class="language-typescript">import { createOpenRouter } from "@openrouter/ai-sdk-provider";
import { streamText } from "ai";

// In your route: get effective model ID, then stream with your key
const modelId = await modelKit.getModel("chatbot", "anthropic/claude-3.5-sonnet");
const openrouter = createOpenRouter({ apiKey: process.env.OPENROUTER_API_KEY });

const result = streamText({
  model: openrouter(modelId),
  messages: [{ role: "user", content: "Hello" }],
});</code></pre>
          </div>
          <h3 class="text-xs font-bold text-primary uppercase tracking-wider mb-2 mt-6">
            OpenRouter HTTP API
          </h3>
          <div class="code-wrap">
            <span class="code-lang">typescript</span>
            <pre><code class="language-typescript">const modelId = await modelKit.getModel("chatbot", "anthropic/claude-3.5-sonnet");

const res = await fetch("https://openrouter.ai/api/v1/chat/completions", {
  method: "POST",
  headers: {
    Authorization: `Bearer ${process.env.OPENROUTER_API_KEY}`,
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    model: modelId,
    messages: [{ role: "user", content: "Hello" }],
  }),
});</code></pre>
          </div>
        </section>
      </div>
      <footer class="mt-16 pt-8 border-t border-border">
        <a href="index.html" class="text-sm text-text-muted hover:text-primary"
          >← Home</a
        >
      </footer>
    </main>
    <script>
      document.querySelectorAll("pre code").forEach(function (el) {
        if (!el.classList.contains("hljs")) hljs.highlightElement(el);
      });
    </script>
  </body>
</html>
